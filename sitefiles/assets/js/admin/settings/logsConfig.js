var $url="/settings/logsConfig",data=utils.init({config:null,form:{isTimeThreshold:null,timeThreshold:null,isLogSite:null,isLogSiteCreate:null,isLogAdmin:null,isLogUser:null,isLogError:null}}),methods={apiGet:function(){var i=this;$api.get($url).then(function(o){var t=o.data;i.form.isTimeThreshold=t.config.isTimeThreshold,i.form.timeThreshold=t.config.timeThreshold,i.form.isLogSite=t.config.isLogSite,i.form.isLogSiteCreate=t.config.isLogSiteCreate,i.form.isLogAdmin=t.config.isLogAdmin,i.form.isLogUser=t.config.isLogUser,i.form.isLogError=t.config.isLogError}).catch(function(i){utils.error(i)}).then(function(){utils.loading(i,!1)})},apiSubmit:function(){var i=this;utils.loading(this,!0),$api.post($url,{isTimeThreshold:this.form.isTimeThreshold,timeThreshold:this.form.timeThreshold,isLogSite:this.form.isLogSite,isLogSiteCreate:this.form.isLogSiteCreate,isLogAdmin:this.form.isLogAdmin,isLogUser:this.form.isLogUser,isLogError:this.form.isLogError}).then(function(i){i.data;utils.success("日志设置保存成功！")}).catch(function(i){utils.error(i)}).then(function(){utils.loading(i,!1)})},btnSubmitClick:function(){var i=this;this.$refs.form.validate(function(o){o&&i.apiSubmit()})},btnCloseClick:function(){utils.removeTab()}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){utils.keyPress(this.btnSubmitClick,this.btnCloseClick),this.apiGet()}});