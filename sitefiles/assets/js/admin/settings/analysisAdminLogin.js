var $url="/settings/analysisAdminLogin",now=new Date,data=utils.init({form:{dateFrom:utils.getQueryString("dateFrom")||utils.formatDate(new Date(now.setMonth(now.getMonth()-1))),dateTo:utils.getQueryString("dateTo")||utils.formatDate(new Date)},chartData:null}),methods={apiGet:function(){var t=this;utils.loading(this,!0),$api.post($url,this.form).then(function(a){var e=a.data;t.chartData={labels:e.days,datasets:[{label:"成功登录次数",backgroundColor:"#67C23A",data:e.successCount},{label:"失败登录次数",backgroundColor:"#F56C6C",data:e.failureCount}]}}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1)})},btnSearchClick(){location.href="?dateFrom="+this.form.dateFrom+"&dateTo="+this.form.dateTo},btnCloseClick:function(){utils.removeTab()}};Vue.component("line-chart",{extends:VueChartJs.Line,mounted:function(){this.renderChart(this.$root.chartData,{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}})}});var $vue=new Vue({el:"#main",data:data,methods:methods,created:function(){utils.keyPress(this.btnSearchClick,this.btnCloseClick),this.apiGet()}});