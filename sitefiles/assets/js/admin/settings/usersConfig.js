var $url="/settings/usersConfig",data=utils.init({isSmsEnabled:!1,form:{isUserRegistrationAllowed:null,isUserRegistrationChecked:null,isUserUnRegistrationAllowed:null,isUserForceVerifyMobile:null,userPasswordMinLength:null,userPasswordRestriction:null,userRegistrationMinMinutes:null,isUserLockLogin:null,userLockLoginCount:null,userLockLoginType:null,userLockLoginHours:null,userFindPasswordSmsTplId:null,isUserCaptchaDisabled:null}}),methods={apiGet:function(){var s=this;utils.loading(this,!0),$api.get($url).then(function(i){var e=i.data;s.isSmsEnabled=e.isSmsEnabled,s.form.isUserRegistrationAllowed=e.config.isUserRegistrationAllowed,s.form.isUserRegistrationChecked=e.config.isUserRegistrationChecked,s.form.isUserUnRegistrationAllowed=e.config.isUserUnRegistrationAllowed,s.form.isUserForceVerifyMobile=e.config.isUserForceVerifyMobile&&e.isSmsEnabled,s.form.userPasswordMinLength=e.config.userPasswordMinLength,s.form.userPasswordRestriction=e.config.userPasswordRestriction,s.form.userRegistrationMinMinutes=e.config.userRegistrationMinMinutes,s.form.isUserLockLogin=e.config.isUserLockLogin,s.form.userLockLoginCount=e.config.userLockLoginCount,s.form.userLockLoginType=e.config.userLockLoginType,s.form.userLockLoginHours=e.config.userLockLoginHours,s.form.userFindPasswordSmsTplId=e.config.userFindPasswordSmsTplId,s.form.isUserCaptchaDisabled=e.config.isUserCaptchaDisabled}).catch(function(s){utils.error(s)}).then(function(){utils.loading(s,!1)})},apiSubmit:function(){var s=this;utils.loading(this,!0),$api.post($url,{isUserRegistrationAllowed:this.form.isUserRegistrationAllowed,isUserRegistrationChecked:this.form.isUserRegistrationChecked,isUserUnRegistrationAllowed:this.form.isUserUnRegistrationAllowed,isUserForceVerifyMobile:this.form.isUserForceVerifyMobile,userPasswordMinLength:this.form.userPasswordMinLength,userPasswordRestriction:this.form.userPasswordRestriction,userRegistrationMinMinutes:this.form.userRegistrationMinMinutes,isUserLockLogin:this.form.isUserLockLogin,userLockLoginCount:this.form.userLockLoginCount,userLockLoginType:this.form.userLockLoginType,userLockLoginHours:this.form.userLockLoginHours,userFindPasswordSmsTplId:this.form.userFindPasswordSmsTplId,isUserCaptchaDisabled:this.form.isUserCaptchaDisabled}).then(function(s){s.data;utils.success("用户设置保存成功！")}).catch(function(s){utils.error(s)}).then(function(){utils.loading(s,!1)})},getPasswordRestrictionText:function(s){return"LetterAndDigit"===s?"字母和数字组合":"LetterAndDigitAndSymbol"===s?"字母、数字以及符号组合":"不限制"},btnSubmitClick:function(){var s=this;this.$refs.form.validate(function(i){i&&s.apiSubmit()})},btnCloseClick:function(){utils.removeTab()}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){utils.keyPress(this.btnSubmitClick,this.btnCloseClick),this.apiGet()}});