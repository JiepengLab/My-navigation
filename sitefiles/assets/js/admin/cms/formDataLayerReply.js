var $url="/cms/forms/formDataLayerReply",data=utils.init({siteId:utils.getQueryInt("siteId"),formId:utils.getQueryInt("formId"),dataId:utils.getQueryInt("dataId"),styles:null,columns:null,formData:null,attributeNames:null,form:{replyContent:""}}),methods={apiGet:function(){var t=this;utils.loading(this,!0),$api.get($url,{params:{siteId:this.siteId,formId:this.formId,dataId:this.dataId}}).then(function(i){var e=i.data;t.styles=e.styles,t.columns=e.columns,t.formData=e.formData,t.attributeNames=e.attributeNames,t.form.replyContent=t.formData.replyContent}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1)})},apiSubmit:function(){var t=this;utils.loading(this,!0),$api.post($url,{siteId:this.siteId,formId:this.formId,dataId:this.dataId,replyContent:this.form.replyContent}).then(function(t){t.data;utils.success("回复成功！"),parent.location.reload(),utils.closeLayer()}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1)})},btnSubmitClick:function(){var t=this;this.$refs.form.validate(function(i){i&&t.apiSubmit()})},getAttributeText:function(t){return this.columns.find(function(i){return i.attributeName===t}).displayName},getAttributeValue:function(t){return utils.getValue(this.styles,this.formData,t)},btnCancelClick:function(){utils.closeLayer(!1)}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){utils.keyPress(this.btnSubmitClick,this.btnCancelClick),this.apiGet()}});