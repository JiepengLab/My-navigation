var $url="/cms/layerContentSelect",data=utils.init({siteId:utils.getQueryInt("siteId"),channelId:utils.getQueryInt("channelId"),contentId:utils.getQueryInt("contentId"),pageContents:null,total:null,pageSize:null,page:1}),methods={apiGet:function(t){var n=this;utils.loading(this,!0),$api.get($url,{params:{siteId:this.siteId,channelId:this.channelId,contentId:this.contentId,page:t}}).then(function(e){var i=e.data;n.pageContents=i.pageContents,n.total=i.total,n.pageSize=i.pageSize,n.page=t}).catch(function(t){utils.error(t)}).then(function(){utils.loading(n,!1)})},handleCurrentChange:function(t){this.apiGet(t)},apiSubmit:function(){var t=this;utils.loading(this,!0),$api.post($url,{siteId:this.siteId,channelId:this.channelId,channelContentIds:this.channelContentIds,isRetainFiles:this.form.isRetainFiles}).then(function(n){n.data;parent.$vue.apiList(t.channelId,t.page,"内容删除成功!",!0),utils.closeLayer()}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1)})},getContentUrl:function(t){return utils.getRootUrl("redirect",{siteId:t.siteId,channelId:t.channelId,contentId:t.id})},btnContentClick:function(t){parent.$vue.runLayerContentSelect(t),utils.closeLayer()},btnCancelClick:function(){utils.closeLayer()}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){utils.keyPress(null,this.btnCancelClick),this.apiGet()}});