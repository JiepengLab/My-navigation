!function(i,e){"use strict";function s(i,e){i.className+=" "+e}function a(i,e){i&&(i.innerHTML=e||"")}var t=Q.def,d=Q.getFirst,l=Q.getLast,v=Q.getNext,c=Q.createEle,o=Q.formatSize,n=Q.event,r=n.add,u=Q.Uploader,f=u.Lang;u.UI.File={init:function(){var i=this.ops.view;i&&s(i,"ui-file "+(this.html5?"html5":"html4"))},draw:function(i){var e=this,s=e.ops,a=s.view;if(a){var v=s.button||{},o=t(f.cancel||v.cancel,"取消"),n=t(f.remove||v.remove,"删除"),u=i.name,p='<div class="fl"><div class="u-name" title="'+u+'">'+u+'</div></div><div class="fr"><div class="u-size"></div><div class="u-speed">--/s</div><div class="u-progress-bar"><div class="u-progress" style="width:1%;"></div></div><div class="u-detail">0%</div><div class="u-state"></div><div class="u-op"><a class="u-op-cancel">'+o+'</a><a class="u-op-remove">'+n+'</a></div></div><div class="clear"></div>',h=i.id,m=c("div","u-item",p);m.taskId=h,i.box=m,a.appendChild(m);var x=l(m.childNodes[1]),g=d(x),Q=l(x);r(g,"click",function(){e.cancel(h)}),r(Q,"click",function(){e.remove(h),a.removeChild(m)}),e.update(i)}},update:function(i){if(i&&i.box){var e=i.total||i.size,s=i.loaded,t=i.state,l=i.box,c=l.childNodes[1],n=d(c),r=v(n),f=v(r),p=d(f),h=v(f);if(a(v(h),u.getStatusText(t)),!(0>e)){var m="";if(this.html5&&void 0!=s&&s>=0){var x;if(t==u.PROCESSING){"100.0"==(x=Math.min(100*s/e,100).toFixed(1))&&(x="99.9")}else t==u.COMPLETE&&(x="100");x&&(x+="%",p.style.width=x,a(h,x)),m='<span class="u-loaded">'+o(s)+"</span> / ";var g=i.avgSpeed||i.speed;a(r,o(g)+"/s")}m+='<span class="u-total">'+o(e)+"</span>",a(n,m)}}},over:function(i){i&&i.box&&s(i.box,"u-over")}},u.extend(u.UI.File)}(window);