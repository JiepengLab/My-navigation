define("echarts/chart/chord",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Sector","../util/shape/Ribbon","../util/shape/Icon","zrender/shape/BezierCurve","../config","../util/ecData","zrender/tool/util","zrender/tool/vector","../data/Graph","../layout/Chord","../chart"],function(e){"use strict";function t(e,t,r,s,a){i.call(this,e,t,r,s,a),this.scaleLineLength=4,this.scaleUnitAngle=4,this.refresh(s)}var i=e("./base"),r=e("zrender/shape/Text"),s=e("zrender/shape/Line"),a=e("zrender/shape/Sector"),o=e("../util/shape/Ribbon"),n=e("../util/shape/Icon"),h=e("zrender/shape/BezierCurve"),d=e("../config");d.chord={zlevel:0,z:2,clickable:!0,radius:["65%","75%"],center:["50%","50%"],padding:2,sort:"none",sortSub:"none",startAngle:90,clockWise:!0,ribbonType:!0,minRadius:10,maxRadius:20,symbol:"circle",showScale:!1,showScaleText:!1,itemStyle:{normal:{borderWidth:0,borderColor:"#000",label:{show:!0,rotate:!1,distance:5},chordStyle:{width:1,color:"black",borderWidth:1,borderColor:"#999",opacity:.5}},emphasis:{borderWidth:0,borderColor:"#000",chordStyle:{width:1,color:"black",borderWidth:1,borderColor:"#999"}}}};var l=e("../util/ecData"),u=e("zrender/tool/util"),c=e("zrender/tool/vector"),g=e("../data/Graph"),p=e("../layout/Chord");return t.prototype={type:d.CHART_TYPE_CHORD,_init:function(){var e=this.series;this.selectedMap={};for(var t={},i={},r=0,s=e.length;s>r;r++)if(e[r].type===this.type){var a=this.isSelected(e[r].name);this.selectedMap[e[r].name]=a,a&&this.buildMark(r),this.reformOption(e[r]),t[e[r].name]=e[r]}for(var r=0,s=e.length;s>r;r++)if(e[r].type===this.type)if(e[r].insertToSerie){var o=t[e[r].insertToSerie];e[r]._referenceSerie=o}else i[e[r].name]=[e[r]];for(var r=0,s=e.length;s>r;r++)if(e[r].type===this.type&&e[r].insertToSerie){for(var n=e[r]._referenceSerie;n&&n._referenceSerie;)n=n._referenceSerie;i[n.name]&&this.selectedMap[e[r].name]&&i[n.name].push(e[r])}for(var h in i)this._buildChords(i[h]);this.addShapeList()},_getNodeCategory:function(e,t){return e.categories&&e.categories[t.category||0]},_getNodeQueryTarget:function(e,t){return[t,this._getNodeCategory(e,t),e]},_getEdgeQueryTarget:function(e,t,i){return i=i||"normal",[t.itemStyle&&t.itemStyle[i],e.itemStyle[i].chordStyle]},_buildChords:function(e){for(var t=[],i=e[0],r=function(e){return e.layout.size>0},s=0;s<e.length;s++){var a=e[s];if(this.selectedMap[a.name]){var o;a.matrix?o=this._getSerieGraphFromDataMatrix(a,i):a.links&&(o=this._getSerieGraphFromNodeLinks(a,i)),o.filterNode(r,this),a.ribbonType&&o.filterEdge(function(e){return function(t){return e.getEdge(t.node2,t.node1)}}(o)),t.push(o),o.__serie=a}}if(t.length){var n=t[0];if(!i.ribbonType){var h=i.minRadius,d=i.maxRadius,l=1/0,u=-1/0;n.eachNode(function(e){u=Math.max(e.layout.size,u),l=Math.min(e.layout.size,l)});var c=(d-h)/(u-l);n.eachNode(function(e){var t=this._getNodeQueryTarget(i,e),r=this.query(t,"symbolSize");e.layout.size=u===l?r||l:r||(e.layout.size-l)*c+h},this)}var g=new p;g.clockWise=i.clockWise,g.startAngle=i.startAngle*Math.PI/180,g.clockWise||(g.startAngle=-g.startAngle),g.padding=i.padding*Math.PI/180,g.sort=i.sort,g.sortSub=i.sortSub,g.directed=i.ribbonType,g.run(t);var y=this.query(i,"itemStyle.normal.label.show");if(i.ribbonType){this._buildSectors(i,0,n,i,t),y&&this._buildLabels(i,0,n,i,t);for(var s=0,f=0;s<e.length;s++)this.selectedMap[e[s].name]&&this._buildRibbons(e,s,t[f++],i);i.showScale&&this._buildScales(i,0,n)}else{this._buildNodeIcons(i,0,n,i,t),y&&this._buildLabels(i,0,n,i,t);for(var s=0,f=0;s<e.length;s++)this.selectedMap[e[s].name]&&this._buildEdgeCurves(e,s,t[f++],i,n)}this._initHoverHandler(e,t)}},_getSerieGraphFromDataMatrix:function(e,t){for(var i=[],r=0,s=[],a=0;a<e.matrix.length;a++)s[a]=e.matrix[a].slice();for(var o=e.data||e.nodes,a=0;a<o.length;a++){var n={},h=o[a];h.rawIndex=a;for(var d in h)"name"===d?n.id=h.name:n[d]=h[d];var l=this._getNodeCategory(t,h),u=l?l.name:h.name;if(this.selectedMap[u]=this.isSelected(u),this.selectedMap[u])i.push(n),r++;else{s.splice(r,1);for(var c=0;c<s.length;c++)s[c].splice(r,1)}}var p=g.fromMatrix(i,s,!0);return p.eachNode(function(e){e.layout={size:e.data.outValue},e.rawIndex=e.data.rawIndex}),p.eachEdge(function(e){e.layout={weight:e.data.weight}}),p},_getSerieGraphFromNodeLinks:function(e,t){for(var i=new g(!0),r=e.data||e.nodes,s=0,a=r.length;a>s;s++){var o=r[s];if(o&&!o.ignore){var n=this._getNodeCategory(t,o),h=n?n.name:o.name;if(this.selectedMap[h]=this.isSelected(h),this.selectedMap[h]){i.addNode(o.name,o).rawIndex=s}}}for(var s=0,a=e.links.length;a>s;s++){var d=e.links[s],l=d.source,u=d.target;"number"==typeof l&&(l=r[l])&&(l=l.name),"number"==typeof u&&(u=r[u])&&(u=u.name);var c=i.addEdge(l,u,d);c&&(c.rawIndex=s)}return i.eachNode(function(e){var i=e.data.value;if(null==i)if(i=0,t.ribbonType)for(var r=0;r<e.outEdges.length;r++)i+=e.outEdges[r].data.weight||0;else for(var r=0;r<e.edges.length;r++)i+=e.edges[r].data.weight||0;e.layout={size:i}}),i.eachEdge(function(e){e.layout={weight:null==e.data.weight?1:e.data.weight}}),i},_initHoverHandler:function(e,t){var i=e[0],r=t[0],s=this;r.eachNode(function(e){e.shape.onmouseover=function(){r.eachNode(function(e){e.shape.style.opacity=.1,e.labelShape&&(e.labelShape.style.opacity=.1,e.labelShape.modSelf()),e.shape.modSelf()});for(var i=0;i<t.length;i++)for(var a=0;a<t[i].edges.length;a++){var o=t[i].edges[a],n=s._getEdgeQueryTarget(t[i].__serie,o.data);o.shape.style.opacity=.1*s.deepQuery(n,"opacity"),o.shape.modSelf()}e.shape.style.opacity=1,e.labelShape&&(e.labelShape.style.opacity=1);for(var i=0;i<t.length;i++){var h=t[i].getNodeById(e.id);if(h)for(var a=0;a<h.outEdges.length;a++){var o=h.outEdges[a],n=s._getEdgeQueryTarget(t[i].__serie,o.data);o.shape.style.opacity=s.deepQuery(n,"opacity");var d=t[0].getNodeById(o.node2.id);d&&(d.shape&&(d.shape.style.opacity=1),d.labelShape&&(d.labelShape.style.opacity=1))}}s.zr.refreshNextFrame()},e.shape.onmouseout=function(){r.eachNode(function(e){e.shape.style.opacity=1,e.labelShape&&(e.labelShape.style.opacity=1,e.labelShape.modSelf()),e.shape.modSelf()});for(var e=0;e<t.length;e++)for(var a=0;a<t[e].edges.length;a++){var o=t[e].edges[a],n=[o.data,i];o.shape.style.opacity=s.deepQuery(n,"itemStyle.normal.chordStyle.opacity"),o.shape.modSelf()}s.zr.refreshNextFrame()}})},_buildSectors:function(e,t,i,r){var s=this.parseCenter(this.zr,r.center),o=this.parseRadius(this.zr,r.radius),n=r.clockWise,h=n?1:-1;i.eachNode(function(i){var d=this._getNodeCategory(r,i.data),u=this.getColor(d?d.name:i.id),c=i.layout.startAngle/Math.PI*180*h,g=i.layout.endAngle/Math.PI*180*h,p=new a({zlevel:e.zlevel,z:e.z,style:{x:s[0],y:s[1],r0:o[0],r:o[1],startAngle:c,endAngle:g,brushType:"fill",opacity:1,color:u,clockWise:n},clickable:r.clickable,highlightStyle:{brushType:"fill"}});p.style.lineWidth=this.deepQuery([i.data,r],"itemStyle.normal.borderWidth"),p.highlightStyle.lineWidth=this.deepQuery([i.data,r],"itemStyle.emphasis.borderWidth"),p.style.strokeColor=this.deepQuery([i.data,r],"itemStyle.normal.borderColor"),p.highlightStyle.strokeColor=this.deepQuery([i.data,r],"itemStyle.emphasis.borderColor"),p.style.lineWidth>0&&(p.style.brushType="both"),p.highlightStyle.lineWidth>0&&(p.highlightStyle.brushType="both"),l.pack(p,e,t,i.data,i.rawIndex,i.id,i.category),this.shapeList.push(p),i.shape=p},this)},_buildNodeIcons:function(e,t,i,r){var s=this.parseCenter(this.zr,r.center),a=this.parseRadius(this.zr,r.radius),o=a[1];i.eachNode(function(i){var a=i.layout.startAngle,h=i.layout.endAngle,d=(a+h)/2,u=o*Math.cos(d),c=o*Math.sin(d),g=this._getNodeQueryTarget(r,i.data),p=this._getNodeCategory(r,i.data),y=this.deepQuery(g,"itemStyle.normal.color");y||(y=this.getColor(p?p.name:i.id));var f=new n({zlevel:e.zlevel,z:e.z+1,style:{x:-i.layout.size,y:-i.layout.size,width:2*i.layout.size,height:2*i.layout.size,iconType:this.deepQuery(g,"symbol"),color:y,brushType:"both",lineWidth:this.deepQuery(g,"itemStyle.normal.borderWidth"),strokeColor:this.deepQuery(g,"itemStyle.normal.borderColor")},highlightStyle:{color:this.deepQuery(g,"itemStyle.emphasis.color"),lineWidth:this.deepQuery(g,"itemStyle.emphasis.borderWidth"),strokeColor:this.deepQuery(g,"itemStyle.emphasis.borderColor")},clickable:r.clickable,position:[u+s[0],c+s[1]]});l.pack(f,e,t,i.data,i.rawIndex,i.id,i.category),this.shapeList.push(f),i.shape=f},this)},_buildLabels:function(e,t,i,s){var a=this.query(s,"itemStyle.normal.label.rotate"),o=this.query(s,"itemStyle.normal.label.distance"),n=this.parseCenter(this.zr,s.center),h=this.parseRadius(this.zr,s.radius),d=s.clockWise,l=d?1:-1;i.eachNode(function(t){var i=t.layout.startAngle/Math.PI*180*l,d=t.layout.endAngle/Math.PI*180*l,u=(i*-l+d*-l)/2;0>(u%=360)&&(u+=360);var g=90>=u||u>=270;u=u*Math.PI/180;var p=[Math.cos(u),-Math.sin(u)],y=0;y=s.ribbonType?s.showScaleText?35+o:o:o+t.layout.size;var f=c.scale([],p,h[1]+y);c.add(f,f,n);var v={zlevel:e.zlevel,z:e.z+1,hoverable:!1,style:{text:null==t.data.label?t.id:t.data.label,textAlign:g?"left":"right"}};a?(v.rotation=g?u:Math.PI+u,v.style.x=g?h[1]+y:-h[1]-y,v.style.y=0,v.position=n.slice()):(v.style.x=f[0],v.style.y=f[1]),v.style.color=this.deepQuery([t.data,s],"itemStyle.normal.label.textStyle.color")||"#000000",v.style.textFont=this.getFont(this.deepQuery([t.data,s],"itemStyle.normal.label.textStyle")),v=new r(v),this.shapeList.push(v),t.labelShape=v},this)},_buildRibbons:function(e,t,i,r){var s=e[t],a=this.parseCenter(this.zr,r.center),n=this.parseRadius(this.zr,r.radius);i.eachEdge(function(h,d){var u,c=i.getEdge(h.node2,h.node1);if(c&&!h.shape){if(c.shape)return void(h.shape=c.shape);var g=h.layout.startAngle/Math.PI*180,p=h.layout.endAngle/Math.PI*180,y=c.layout.startAngle/Math.PI*180,f=c.layout.endAngle/Math.PI*180;u=this.getColor(1===e.length?h.layout.weight<=c.layout.weight?h.node1.id:h.node2.id:s.name);var v,b,m=this._getEdgeQueryTarget(s,h.data),S=this._getEdgeQueryTarget(s,h.data,"emphasis"),z=new o({zlevel:s.zlevel,z:s.z,style:{x:a[0],y:a[1],r:n[0],source0:g,source1:p,target0:y,target1:f,brushType:"both",opacity:this.deepQuery(m,"opacity"),color:u,lineWidth:this.deepQuery(m,"borderWidth"),strokeColor:this.deepQuery(m,"borderColor"),clockWise:r.clockWise},clickable:r.clickable,highlightStyle:{brushType:"both",opacity:this.deepQuery(S,"opacity"),lineWidth:this.deepQuery(S,"borderWidth"),strokeColor:this.deepQuery(S,"borderColor")}});h.layout.weight<=c.layout.weight?(v=c.node1,b=c.node2):(v=h.node1,b=h.node2),l.pack(z,s,t,h.data,null==h.rawIndex?d:h.rawIndex,h.data.name||v.id+"-"+b.id,v.id,b.id),this.shapeList.push(z),h.shape=z}},this)},_buildEdgeCurves:function(e,t,i,r,s){var a=e[t],o=this.parseCenter(this.zr,r.center);i.eachEdge(function(e,i){var r=s.getNodeById(e.node1.id),n=s.getNodeById(e.node2.id),d=r.shape,u=n.shape,c=this._getEdgeQueryTarget(a,e.data),g=this._getEdgeQueryTarget(a,e.data,"emphasis"),p=new h({zlevel:a.zlevel,z:a.z,style:{xStart:d.position[0],yStart:d.position[1],xEnd:u.position[0],yEnd:u.position[1],cpX1:o[0],cpY1:o[1],lineWidth:this.deepQuery(c,"width"),strokeColor:this.deepQuery(c,"color"),opacity:this.deepQuery(c,"opacity")},highlightStyle:{lineWidth:this.deepQuery(g,"width"),strokeColor:this.deepQuery(g,"color"),opacity:this.deepQuery(g,"opacity")}});l.pack(p,a,t,e.data,null==e.rawIndex?i:e.rawIndex,e.data.name||e.node1.id+"-"+e.node2.id,e.node1.id,e.node2.id),this.shapeList.push(p),e.shape=p},this)},_buildScales:function(e,t,i){var a,o,n=e.clockWise,h=this.parseCenter(this.zr,e.center),d=this.parseRadius(this.zr,e.radius),l=n?1:-1,u=0,g=-1/0;e.showScaleText&&(i.eachNode(function(e){var t=e.data.value;t>g&&(g=t),u+=t}),g>1e10?(a="b",o=1e-9):g>1e7?(a="m",o=1e-6):g>1e4?(a="k",o=.001):(a="",o=1));var p=u/(360-e.padding);i.eachNode(function(t){for(var i=t.layout.startAngle/Math.PI*180,u=t.layout.endAngle/Math.PI*180,g=i;!(n&&g>u||!n&&u>g);){var y=g/180*Math.PI,f=[Math.cos(y),Math.sin(y)],v=c.scale([],f,d[1]+1);c.add(v,v,h);var b=c.scale([],f,d[1]+this.scaleLineLength);c.add(b,b,h);var m=new s({zlevel:e.zlevel,z:e.z-1,hoverable:!1,style:{xStart:v[0],yStart:v[1],xEnd:b[0],yEnd:b[1],lineCap:"round",brushType:"stroke",strokeColor:"#666",lineWidth:1}});this.shapeList.push(m),g+=l*this.scaleUnitAngle}if(e.showScaleText)for(var S=i,z=5*p*this.scaleUnitAngle,_=0;!(n&&S>u||!n&&u>S);){var y=S;0>(y%=360)&&(y+=360);var M=90>=y||y>=270,x=new r({zlevel:e.zlevel,z:e.z-1,hoverable:!1,style:{x:M?d[1]+this.scaleLineLength+4:-d[1]-this.scaleLineLength-4,y:0,text:Math.round(10*_)/10+a,textAlign:M?"left":"right"},position:h.slice(),rotation:M?[-y/180*Math.PI,0,0]:[-(y+180)/180*Math.PI,0,0]});this.shapeList.push(x),_+=z*o,S+=l*this.scaleUnitAngle*5}},this)},refresh:function(e){if(e&&(this.option=e,this.series=e.series),this.legend=this.component.legend,this.legend)this.getColor=function(e){return this.legend.getColor(e)},this.isSelected=function(e){return this.legend.isSelected(e)};else{var t={},i=0;this.getColor=function(e){return t[e]?t[e]:(t[e]||(t[e]=this.zr.getColor(i++)),t[e])},this.isSelected=function(){return!0}}this.backupShapeList(),this._init()},reformOption:function(e){var t=u.merge;e=t(t(e||{},this.ecTheme.chord),d.chord),e.itemStyle.normal.label.textStyle=this.getTextStyle(e.itemStyle.normal.label.textStyle),this.z=e.z,this.zlevel=e.zlevel}},u.inherits(t,i),e("../chart").define("chord",t),t}),define("echarts/util/shape/Ribbon",["require","zrender/shape/Base","zrender/shape/util/PathProxy","zrender/tool/util","zrender/tool/area"],function(e){function t(e){i.call(this,e),this._pathProxy=new r}var i=e("zrender/shape/Base"),r=e("zrender/shape/util/PathProxy"),s=e("zrender/tool/util"),a=e("zrender/tool/area");return t.prototype={type:"ribbon",buildPath:function(e,t){var i=t.clockWise||!1,r=this._pathProxy;r.begin(e);var s=t.x,a=t.y,o=t.r,n=t.source0/180*Math.PI,h=t.source1/180*Math.PI,d=t.target0/180*Math.PI,l=t.target1/180*Math.PI,u=s+Math.cos(n)*o,c=a+Math.sin(n)*o,g=s+Math.cos(h)*o,p=a+Math.sin(h)*o,y=s+Math.cos(d)*o,f=a+Math.sin(d)*o,v=s+Math.cos(l)*o,b=a+Math.sin(l)*o;r.moveTo(u,c),r.arc(s,a,t.r,n,h,!i),r.bezierCurveTo(.7*(s-g)+g,.7*(a-p)+p,.7*(s-y)+y,.7*(a-f)+f,y,f),(t.source0!==t.target0||t.source1!==t.target1)&&(r.arc(s,a,t.r,d,l,!i),r.bezierCurveTo(.7*(s-v)+v,.7*(a-b)+b,.7*(s-u)+u,.7*(a-c)+c,u,c))},getRect:function(e){return e.__rect?e.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,e),this._pathProxy.fastBoundingRect())},isCover:function(e,t){var i=this.getRect(this.style);return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height?a.isInsidePath(this._pathProxy.pathCommands,0,"fill",e,t):void 0}},s.inherits(t,i),t}),define("echarts/data/Graph",["require","zrender/tool/util"],function(e){var t=e("zrender/tool/util"),i=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}};i.prototype.isDirected=function(){return this._directed},i.prototype.addNode=function(e,t){if(this._nodesMap[e])return this._nodesMap[e];var r=new i.Node(e,t);return this.nodes.push(r),this._nodesMap[e]=r,r},i.prototype.getNodeById=function(e){return this._nodesMap[e]},i.prototype.addEdge=function(e,t,r){if("string"==typeof e&&(e=this._nodesMap[e]),"string"==typeof t&&(t=this._nodesMap[t]),e&&t){var s=e.id+"-"+t.id;if(this._edgesMap[s])return this._edgesMap[s];var a=new i.Edge(e,t,r);return this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),this._edgesMap[s]=a,a}},i.prototype.removeEdge=function(e){var i=e.node1,r=e.node2,s=i.id+"-"+r.id;this._directed&&(i.outEdges.splice(t.indexOf(i.outEdges,e),1),r.inEdges.splice(t.indexOf(r.inEdges,e),1)),i.edges.splice(t.indexOf(i.edges,e),1),i!==r&&r.edges.splice(t.indexOf(r.edges,e),1),delete this._edgesMap[s],this.edges.splice(t.indexOf(this.edges,e),1)},i.prototype.getEdge=function(e,t){return"string"!=typeof e&&(e=e.id),"string"!=typeof t&&(t=t.id),this._directed?this._edgesMap[e+"-"+t]:this._edgesMap[e+"-"+t]||this._edgesMap[t+"-"+e]},i.prototype.removeNode=function(e){if("string"!=typeof e||(e=this._nodesMap[e])){delete this._nodesMap[e.id],this.nodes.splice(t.indexOf(this.nodes,e),1);for(var i=0;i<this.edges.length;){var r=this.edges[i];r.node1===e||r.node2===e?this.removeEdge(r):i++}}},i.prototype.filterNode=function(e,t){for(var i=this.nodes.length,r=0;i>r;)e.call(t,this.nodes[r],r)?r++:(this.removeNode(this.nodes[r]),i--)},i.prototype.filterEdge=function(e,t){for(var i=this.edges.length,r=0;i>r;)e.call(t,this.edges[r],r)?r++:(this.removeEdge(this.edges[r]),i--)},i.prototype.eachNode=function(e,t){for(var i=this.nodes.length,r=0;i>r;r++)this.nodes[r]&&e.call(t,this.nodes[r],r)},i.prototype.eachEdge=function(e,t){for(var i=this.edges.length,r=0;i>r;r++)this.edges[r]&&e.call(t,this.edges[r],r)},i.prototype.clear=function(){this.nodes.length=0,this.edges.length=0,this._nodesMap={},this._edgesMap={}},i.prototype.breadthFirstTraverse=function(e,t,i,r){if("string"==typeof t&&(t=this._nodesMap[t]),t){var s="edges";"out"===i?s="outEdges":"in"===i&&(s="inEdges");for(var a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(r,t,null))for(var o=[t];o.length;)for(var n=o.shift(),h=n[s],a=0;a<h.length;a++){var d=h[a],l=d.node1===n?d.node2:d.node1;if(!l.__visited){if(e.call(l,l,n))return;o.push(l),l.__visited=!0}}}},i.prototype.clone=function(){for(var e=new i(this._directed),t=0;t<this.nodes.length;t++)e.addNode(this.nodes[t].id,this.nodes[t].data);for(var t=0;t<this.edges.length;t++){var r=this.edges[t];e.addEdge(r.node1.id,r.node2.id,r.data)}return e};var r=function(e,t){this.id=e,this.data=t||null,this.inEdges=[],this.outEdges=[],this.edges=[]};r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length};var s=function(e,t,i){this.node1=e,this.node2=t,this.data=i||null};return i.Node=r,i.Edge=s,i.fromMatrix=function(e,t,r){if(t&&t.length&&t[0].length===t.length&&e.length===t.length){for(var s=t.length,a=new i(r),o=0;s>o;o++){var n=a.addNode(e[o].id,e[o]);n.data.value=0,r&&(n.data.outValue=n.data.inValue=0)}for(var o=0;s>o;o++)for(var h=0;s>h;h++){var d=t[o][h];r&&(a.nodes[o].data.outValue+=d,a.nodes[h].data.inValue+=d),a.nodes[o].data.value+=d,a.nodes[h].data.value+=d}for(var o=0;s>o;o++)for(var h=o;s>h;h++){var d=t[o][h];if(0!==d){var l=a.nodes[o],u=a.nodes[h],c=a.addEdge(l,u,{});if(c.data.weight=d,o!==h&&r&&t[h][o]){var g=a.addEdge(u,l,{});g.data.weight=t[h][o]}}}return a}},i}),define("echarts/layout/Chord",["require"],function(){var e=function(e){e=e||{},this.sort=e.sort||null,this.sortSub=e.sortSub||null,this.padding=.05,this.startAngle=e.startAngle||0,this.clockWise=null!=e.clockWise&&e.clockWise,this.center=e.center||[0,0],this.directed=!0};e.prototype.run=function(e){if(e instanceof Array||(e=[e]),e.length){for(var r=e[0],s=r.nodes.length,a=[],o=0,n=0;s>n;n++){var h=r.nodes[n],d={size:0,subGroups:[],node:h};a.push(d);for(var l=0,u=0;u<e.length;u++){var c=e[u],g=c.getNodeById(h.id);if(g){d.size+=g.layout.size;for(var p=this.directed?g.outEdges:g.edges,y=0;y<p.length;y++){var f=p[y],v=f.layout.weight;d.subGroups.push({weight:v,edge:f,graph:c}),l+=v}}}o+=d.size;for(var b=d.size/l,y=0;y<d.subGroups.length;y++)d.subGroups[y].weight*=b;"ascending"===this.sortSub?d.subGroups.sort(t):"descending"===this.sort&&(d.subGroups.sort(t),d.subGroups.reverse())}"ascending"===this.sort?a.sort(i):"descending"===this.sort&&(a.sort(i),a.reverse());for(var b=(2*Math.PI-this.padding*s)/o,m=this.startAngle,S=this.clockWise?1:-1,n=0;s>n;n++){var d=a[n];d.node.layout.startAngle=m,d.node.layout.endAngle=m+S*d.size*b,d.node.layout.subGroups=[];for(var y=0;y<d.subGroups.length;y++){var z=d.subGroups[y];z.edge.layout.startAngle=m,m+=S*z.weight*b,z.edge.layout.endAngle=m}m=d.node.layout.endAngle+S*this.padding}}};var t=function(e,t){return e.weight-t.weight},i=function(e,t){return e.size-t.size};return e});