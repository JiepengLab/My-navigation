var apiUtils={Api:function(e){this.getQueryStringByName=function(e){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]+)","i"));return!t||t.length<1?"":decodeURIComponent(t[1])},this.apiUrl=e||"https://api.siteserver.cn/v1.1",this._getURL=function(e,t,r){if(e+=/\?/.test(e)?"&":"?","object"==typeof t&&"GET"===r){var n=[];for(var s in t)if(t.hasOwnProperty(s)){var i=encodeURIComponent(s),a=encodeURIComponent(t[s]);n.push(i+"="+a)}e+="&"+n.join("&")}return(e+"&"+(new Date).getTime()).replace("?&","?")},this.request=function(e,t,r,n){var s=new XMLHttpRequest;s.open(e,this._getURL(t,r,e),!0),s.withCredentials=!0,n&&(s.onreadystatechange=function(){if(4===s.readyState)if(s.status<400)n(null,apiUtils.parse(s.responseText),s.status);else{var e=apiUtils.parse(s.responseText);n({status:s.status,message:e.message||apiUtils.errorCode(s.status)},null,s.status)}}),s.dataType="json",s.setRequestHeader("Accept","application/vnd.siteserver+json; version=1"),s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r?s.send(JSON.stringify(r)):s.send()},this.get=function(e,t,r,n){var s=this.apiUrl;return r&&(s+="/"+r,n&&(s+="/"+n)),this.request("GET",s,e,t)},this.post=function(e,t,r,n){var s=this.apiUrl;return r&&(s+="/"+r,n&&(s+="/"+n)),this.request("POST",s,e,t)},this.put=function(e,t,r,n){var s=this.apiUrl;return r&&(s+="/"+r,n&&(s+="/"+n)),this.request("PUT",s,e,t)},this.delete=function(e,t,r,n){var s=this.apiUrl;return r&&(s+="/"+r,n&&(s+="/"+n)),this.request("DELETE",s,e,t)},this.patch=function(e,t,r,n){var s=this.apiUrl;return r&&(s+="/"+r,n&&(s+="/"+n)),this.request("PATCH",s,e,t)}},parse:function(e){return e?JSON.parse(e):{}},errorCode:function(e){switch(e){case 400:return"Bad Request";case 401:return"Unauthorized";case 402:return"Payment Required";case 403:return"Forbidden";case 404:return"Not Found";case 405:return"Method Not Allowed";case 406:return"Not Acceptable";case 407:return"Proxy Authentication Required";case 408:return"Request Timeout";case 409:return"Conflict";case 410:return"Gone";case 411:return"Length Required";case 500:return"Internal Server Error"}return"Unknown Error"}};