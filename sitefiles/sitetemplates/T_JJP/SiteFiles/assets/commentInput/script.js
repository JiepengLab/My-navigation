function loadComments(t,e,n,o,s,u,i,c){var r=t+"/#/reg?returnUrl="+encodeURIComponent(location.href),l=t+"/#/findpwd?returnUrl="+encodeURIComponent(location.href),m=new Vue({el:"#stlCommentContainer",data:{homeUrl:t,regUrl:r,findpwdUrl:l,isLoading:!0,isAuthError:!1,isUnChecked:!1,user:null,isDelete:c,comments:null,requestCount:i,requestOffset:0,totalCount:0,account:"",password:"",replyId:0,content:""},methods:{submit:function(){if(this.content){var t={account:m.account,password:m.password,replyId:m.replyId,content:m.content};stlClient.post(n,t,function(t,e){t?m.isAuthError=!0:(m.user=e.user,e.comment&&e.comment.isChecked?(m.comments.splice(0,0,e.comment),m.count++,m.isUnChecked=!1,m.replyId=0):m.isUnChecked=!0,m.account="",m.password="",m.content=""),setTimeout(function(){m.isUnChecked=!1,m.isAuthError=!1},5e3)})}},good:function(t){Cookies.get("stl_comment_good_"+t.id)||stlClient.post(o,{id:t.id},function(e,n){e||(Cookies.set("stl_comment_good_"+t.id,"true"),t.goodCount++)})},reply:function(t){m.replyId=m.replyId===t?0:t,m.content=""},remove:function(t){stlClient.post(s,{id:t.id},function(e,n){e||m.comments.splice(m.comments.indexOf(t),1)})},cancel:function(){m.replyId=0,m.content=""},logout:function(){stlClient.post(u,null,function(t,e){m.user=null})},list:function(){m.totalCount>0&&m.requestOffset>=m.totalCount||(m.isLoading=!0,stlClient.get(e+"?requestCount="+m.requestCount+"&requestOffset="+m.requestOffset,null,function(t,e){if(m.isLoading=!1,!t&&e.isCommentable){m.comments||(m.comments=[]),m.user=e.user,m.totalCount=e.totalCount,m.requestOffset+=m.requestCount;for(var n=0;n<e.comments.length;n++){var o=e.comments[n];m.comments.push(o)}}}))}}});m.list()}